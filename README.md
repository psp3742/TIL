# TIL

## β… μ‹¤μµ μ‹λ‚λ¦¬μ¤ μ”μ•½ (1λ² ~ 5λ²)

### 1. κΈ°λ³Έ μ›Ή μ΄μ¤‘ν™” (Load Balancer + Web μ„λ²„ 2λ€)

- **κµ¬μ„±**:
    - LB β†’ Web1, Web2
- **λ©ν‘**:
    - λ¦¬λ…μ¤μ—μ„ Nginx λλ” HAProxyλ΅ λ΅λ“λ°Έλ°μ„ μ„¤μ •
    - Apache/Nginx μ„¤μΉν•μ—¬ μ›Ήμ„λ²„ κµ¬μ„±
- **μ‹¤μµ ν¬μΈνΈ**:
    - λ„¤νΈμ›ν¬ μ„¤μ •
    - μ„λΉ„μ¤ μ„¤μ •
    - λ°©ν™”λ²½(ν¬νΈ κ°λ°©: 80, 443)
    - μ‚¬μ©μ λ° sudo μ„¤μ •

---

### 2. DB μ΄μ¤‘ν™” κµ¬μ„±

- **κµ¬μ„±**:
    - LB β†’ DB1, DB2
- **λ©ν‘**:
    - MariaDB or MySQL μ„λ²„ 2λ€ κµ¬μ„±
    - Master-Slave λλ” Master-Master λ³µμ  μ‹¤μµ
- **μ‹¤μµ ν¬μΈνΈ**:
    - DB μ„¤μΉ λ° replication μ„¤μ •
    - μ‚¬μ©μ κ¶ν• μ„¤μ •
    - λ„¤νΈμ›ν¬ λ°©ν™”λ²½: ν¬νΈ 3306 μ¤ν”

---

### 3. LAMP κµ¬μ„± λλ” Web-WAS-DB 3κ³„μΈµ

- **κµ¬μ„± μμ‹**:
    - Web β†’ LB β†’ WAS β†’ DB
- **λ©ν‘**:
    - LAMP (Linux + Apache + MySQL + PHP) κµ¬μ„±
    - λλ” Web μ„λ²„μ™€ WASλ¥Ό λ¶„λ¦¬ν• κµ¬μ΅° κµ¬μ„±
- **μ‹¤μµ ν¬μΈνΈ**:
    - μ•„νμΉ + PHP μ—°λ™
    - PHPMyAdmin μ„¤μΉ (μµμ…)
    - DB μ—°κ²° ν™•μΈ

---

### 4. μ›Ή + NFS κ³µμ  + μ΄μ¤‘ν™”

- **κµ¬μ„±**:
    - LB β†’ W1, W2 β†’ NFS κ³µμ  β†’ DB
- **λ©ν‘**:
    - μ›Ή μ„λ²„ κ°„ νμΌ κ³µμ  (μ: μ΄λ―Έμ§€ μ—…λ΅λ“ λ””λ ‰ν† λ¦¬)
    - NFS μ„λ²„ κµ¬μ¶• λ° λ§μ΄νΈ μ‹¤μµ
- **μ‹¤μµ ν¬μΈνΈ**:
    - NFS μ„¤μΉ λ° export μ„¤μ •
    - λ§μ΄νΈ μλ™ν™” (/etc/fstab)
    - νΌλ―Έμ… λ° SELinux ν™•μΈ

---

### 5. DHCP + iscsi + LB

- **κµ¬μ„±**:
    - LB + Web + DB + iscsi storage
    - DHCP μ„λ²„μ™€ iscsi target κµ¬μ„±
- **λ©ν‘**:
    - DHCP μ„λ²„ κµ¬μ¶• β†’ ν΄λΌμ΄μ–ΈνΈ μλ™ IP ν• λ‹Ή
    - iSCSI μ„λ²„/ν΄λΌμ΄μ–ΈνΈ μ‹¤μµ β†’ μ›κ²© λ””μ¤ν¬ λ§μ΄νΈ
- **μ‹¤μµ ν¬μΈνΈ**:
    - iscsi-target, iscsi-initiator μ„¤μΉ
    - LVMμΌλ΅ λ””μ¤ν¬ μ¶”κ°€ κµ¬μ„±

---

## π― μ‚¬μ΄λ“ μ‹¤μµ ν•­λ©κ³Ό λ§¤ν•‘

| ν•­λ© | μ„¤λ… | μ—°κ²° μ‹λ‚λ¦¬μ¤ |
| --- | --- | --- |
| 6. λ„¤νΈμ›ν¬ | NIC μ„¤μ •, IP ν• λ‹Ή, DHCP μ‚¬μ© | 5λ² DHCP μ‹¤μµ |
| 7. λ°©ν™”λ²½ | firewalld, iptables μ‹¤μµ | 1~3λ² ν¬νΈ κ°λ°© |
| 8. μ„λΉ„μ¤ | systemctl enable/disable/start | λ¨λ“  μ„λ²„ κµ¬μ„± |
| 9. νΈμ§‘κΈ° | vim, nano μ‚¬μ©λ²• | μ„¤μ • νμΌ μμ • (httpd.conf, my.cnf λ“±) |
| 10. μ‚¬μ©μ(SUDO) | sudoers μ„¤μ •, μ‚¬μ©μ μ¶”κ°€ | μ›Ή/DB μ΄μκ³„μ • λ¶„λ¦¬ |
| 11. λ””μ¤ν¬(LVM) | λ””μ¤ν¬ μ¶”κ°€, νν‹°μ…”λ‹, LVM κµ¬μ„± | 5λ² iSCSI + LVM |

---

## π”§ μ¶”κ°€ μ μ• (λ¦¬λ…μ¤ μ—°μµ ν)

- κ° μ„λ²„λ¥Ό VirtualBoxλ΅ VM λ§λ“¤κ³  λ‚΄λ¶€ λ„¤νΈμ›ν¬λ΅ κµ¬μ„±
- Ansibleμ΄λ‚ Shell Scriptλ΅ λ°λ³µμ‘μ—… μλ™ν™” μ—°μµ
- /etc/hostsλ΅ κ°„λ‹¨ν• DNS ν‰λ‚΄ κ°€λ¥

---

## β… μ¶”μ² λ¦¬λ…μ¤ λ°°ν¬ν (2025λ…„ κΈ°μ¤€)

| λ°°ν¬ν | λ²„μ „ | νΉμ§• |
| --- | --- | --- |
| **Rocky Linux** | **9.x (μµμ‹  μ•μ •λ²„μ „)** | CentOS ν›„μ†, RHELκ³Ό 100% νΈν™, μ„λ²„ μ‹¤μµμ— κ°•λ ¥ μ¶”μ² |
| **AlmaLinux** | 9.x | Rockyμ™€ μ μ‚¬, RHEL ν΄λ΅  |
| **Ubuntu Server** | **22.04 LTS (μ¥κΈ°μ§€μ›)** | κ°€μ¥ μΉμ™ν• λ¦¬λ…μ¤, μλ£ λ§κ³  μ΄λ³΄μ μΉν™”μ  |
| **Debian** | 12 | μ•μ •μ„± μ¤‘μ‹ μ‹ μ¶”μ² |
| **CentOS Stream** | X | λΉ„μ¶” β€“ λ” μ΄μƒ μ „ν†µμ  CentOSκ°€ μ•„λ‹ (μ—…μ¤νΈλ¦Ό ν…μ¤νΈμ©) |

---

## π¥‡ **κ°€μ¥ μ¶”μ²ν•λ” μ΅°ν•©**

### β” Rocky Linux 9 (νΉμ€ AlmaLinux 9)

- μ‹¤λ¬΄ ν™κ²½κ³Ό μ μ‚¬ν• RHEL κµ¬μ΅°
- systemd, firewalld, SELinux, LVM λ“± ν•™μµμ— μµμ 
- λ³΄μ• λ° μ„±λ¥ μ‹¤μµ ν¬ν•¨ κ°€λ¥

> β… ISO λ‹¤μ΄λ΅λ“:
> 
> 
> https://rockylinux.org/download
> 

---

## π§° κ°€μƒλ¨Έμ‹  μƒμ„± κΈ°λ³Έ μ„¤μ • (κ³µν†µ)

| ν•­λ© | μ¶”μ²κ°’ |
| --- | --- |
| μ΄λ¦„ | rocky9-web1 / rocky9-db1 λ“± |
| OS μΆ…λ¥ | Linux / Red Hat (64-bit) |
| λ©”λ¨λ¦¬ | μµμ† 1024MB, κ¶μ¥ 2048MB |
| CPU | 1~2κ° |
| λ””μ¤ν¬ | μµμ† 20GB (λ™μ  ν• λ‹Ή) |
| λ„¤νΈμ›ν¬ | λ‚΄λ¶€ λ„¤νΈμ›ν¬ or NAT(Network Address Translation) + ν¬νΈν¬μ›λ”© |
